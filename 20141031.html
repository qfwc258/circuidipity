<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
        <title>Circuidipity | Add USB storage to Chromebooks</title>
        <meta http-equiv="content-type" content="text/html"; charset="utf-8" />
        <meta http-equiv="pragma" content="no-cache" />
        <meta name="author" content="Daniel Wayne Armstrong" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/main.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/pygment.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/font.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/images/icons/font-awesome/css/font-awesome.min.css">
        <link rel="icon" href="http://www.circuidipity.com/theme/images/favicon.ico" type="image/x-icon" />
</head>

<body>
        <!-- content -->

<!-- breadcrumb trail -->
<div id="breadcrumb">
    <p><a href="/"><i class="fa fa-rocket"></i> Howdy!</a> &nbsp;<i class="fa fa-arrow-right"></i>&nbsp;
    <a href="archives.html">Archives</a> &nbsp;<i class="fa fa-arrow-right"></i>&nbsp;
    Friday 31 October 2014</p>
</div>

<!-- article -->
<h1>Add USB storage to Chromebooks</h1>
<div id="article">
    <p>I love my <a class="reference external" href="http://www.circuidipity.com/c720-lubuntubook.html">Lubuntubook</a> and the speedy performance of a solid-state drive (SSD). However 16GB of storage does not offer much room to shuffle data around. One popular option is to <a class="reference external" href="http://www.circuidipity.com/c720-lubuntubook.html">open up the device</a> and swap in a bigger SSD.</p>
<p>An alternative is to reserve the internal SSD for the OS and use an external USB storage device for data. I picked up a <a class="reference external" href="http://www.amazon.com/SanDisk-Cruzer-Low-Profile-Drive-SDCZ33-064G-B35/dp/B00FJRS6QY">SanDisk Cruzer Fit 64GB USB 2.0</a> which are really tiny devices that barely extrude from the USB port.</p>
<p>My plan is to keep the USB stick attached to the Chromebook (extra storage that can be disconnected and re-connected at will) and have Lubuntu auto-mount the device at boot. Steps to get it working:</p>
<div class="section" id="partition-and-format">
<h2>0. Partition and format</h2>
<p>Wipe any SanDisk stuff off the device by creating a new partition table with a single partition using a partitioning utility (such as <strong>fdisk</strong>). I chose to format the partition as <strong>FAT32</strong> for the widest range of compatibility using <strong>mkfs</strong>:</p>
<div class="highlight"><pre><span class="nv">$ </span>sudo mkfs.vfat /dev/sd<span class="o">[</span>device_label<span class="o">]</span>1
</pre></div>
</div>
<div class="section" id="uuid">
<h2>1. UUID</h2>
<p>Retrieve the <a class="reference external" href="https://help.ubuntu.com/community/UsingUUID">Universally Unique Identifer</a> (UUID) of the USB stick's partition (example uses <tt class="docutils literal">sdb1</tt>):</p>
<div class="highlight"><pre><span class="nv">$ </span>sudo blkid | grep sdb1
/dev/sdb1: <span class="nv">UUID</span><span class="o">=</span><span class="s2">&quot;7168-E0A7&quot;</span> <span class="nv">TYPE</span><span class="o">=</span><span class="s2">&quot;vfat&quot;</span>
</pre></div>
</div>
<div class="section" id="auto-mount">
<h2>2. Auto-mount</h2>
<p>Configure the system to auto-mount the USB stick at boot by creating a new mount point for the device:</p>
<div class="highlight"><pre><span class="nv">$ </span>sudo mkdir /media/usb-extra
</pre></div>
<p>... and create a new entry in <tt class="docutils literal">/etc/fstab</tt>:</p>
<div class="highlight"><pre><span class="nv">UUID</span><span class="o">=</span>7168-E0A7  /media/usb-extra    vfat   rw,user,noatime,uid<span class="o">=</span>1000,gid<span class="o">=</span>1000,shortname<span class="o">=</span>mixed,dmask<span class="o">=</span>0077,fmask<span class="o">=</span>0133,utf8<span class="o">=</span>1,flush,nobootwait  0   0
</pre></div>
<p>Experiment with the settings. Note that <tt class="docutils literal">nobootwait</tt> is an <tt class="docutils literal">upstart</tt>-specific option to the <tt class="docutils literal">mountall</tt> command on <a class="reference external" href="http://www.circuidipity.com/tag-ubuntu.html">Ubuntu</a> and its derivatives. It enables boot to continue without manual intervention if the device is not found.</p>
</div>
<div class="section" id="boot">
<h2>3. Boot</h2>
<p>One wrinkle on the <strong>Acer C720 Chromebook</strong> is that an attached USB storage device makes the laptop always try to boot from USB (and fail) instead of internal storage. There appears to be no way to alter the default boot order in <strong>SeaBIOS</strong> except to rebuild the firmware. Plus I <strong>like</strong> that USB booting actually works on this device! The simple workaround is just hit <strong>ESC</strong> at startup to access the boot menu and manually choose the SSD.</p>
<p>Happy hacking!</p>
</div>

    <p class="articletags"><i class="fa fa-coffee"></i> More         &#8226; <a class="tag" href="http://www.circuidipity.com/tag-chromebook.html">chromebook</a>
        &#8226; <a class="tag" href="http://www.circuidipity.com/tag-lubuntu.html">lubuntu</a>
        &#8226; <a class="tag" href="http://www.circuidipity.com/tag-ubuntu.html">ubuntu</a>
        &#8226; <a class="tag" href="http://www.circuidipity.com/tag-linux.html">linux</a>
</p>
</div>

<!-- Nav links to previous|next article -->
<div id="navmenu">
    <hr />
    <p class="prevpost"><i class="fa fa-arrow-left"></i> Older<br />
        <a href="http://www.circuidipity.com/20141030.html">Links of interest</a></p>
    <p class="nextpost">Newer <i class="fa fa-arrow-right"></i><br />
        <a href="http://www.circuidipity.com/lubuntu-trusty-hacks.html">16 small hacks after installing Lubuntu 14.04</a></p>
</div>


        <!-- footer -->
<div id="footer">
    <img class="imgfooter" src="./theme/images/footerbar.png" />
    <p class="contentinfo">
    <span class="noWrap">
        Copyright &#169; 2014 and
        <a rel="license" class="ccLicense" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA License</a> by
        <a rel="author" class="authorID" href="/">Daniel Wayne Armstrong</a>
    </span>
    <span class="noWrap">
        <i class="fa fa-globe"></i>
        Find me at <span class="whoa">daniel at circuidipity dot com</span>
    </span>
    <br />
    Don't miss a thing... updates by
    <a href="feed.xml">RSS</a> and
    <a class="subTweat" href="https://twitter.com/circuidipity">Twitter</a>
    </p>
</div></body>
</html>