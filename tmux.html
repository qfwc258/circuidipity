<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
        <title>Circuidipity | Command line tools: tmux</title>
        <meta http-equiv="content-type" content="text/html"; charset="utf-8" />
        <meta http-equiv="pragma" content="no-cache" />
        <meta name="author" content="Daniel Wayne Armstrong" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/main.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/pygment.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/font.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/images/icons/font-awesome/css/font-awesome.min.css">
        <link rel="icon" href="http://www.circuidipity.com/theme/images/favicon.ico" type="image/x-icon" />
        <!-- analytics -->

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-89591498-1', 'auto');
  ga('send', 'pageview');

</script>
</head>

<body>
        <!-- content -->

<!-- breadcrumb trail -->
<div id="breadcrumb">
    <p><a href="/"><img class="minime" src="/theme/images/minime.png" alt="Mini Me" height="38" width="38" /> Howdy!</a> &nbsp;<i class="fa fa-arrow-right"></i>&nbsp;
    Tuesday 11 February 2014</p>
</div>

<!-- article -->
<h1>Command line tools: tmux</h1>
    <p class="modified"><i class="fa fa-wrench"></i>&nbsp; Last modified on Thursday 25 June 2015</p>
<div id="article">
    <img alt="tmux" src="/images/screenshot/tmux_window_pane.png" style="width: 940px; height: 529px;" />
<p><a class="reference external" href="http://www.circuidipity.com/raspberry-pi-home-server.html">Home Server Project #2 .:</a> <strong>Tmux</strong> is a <strong>terminal multiplexer</strong>. What this means is I can take a single terminal window and create multiple <strong>windows</strong> (tabs) and further partition a window into horizontal and vertical <strong>panes</strong>.</p>
<p>Using <tt class="docutils literal">tmux</tt> I can create terminal sessions with a custom layout of windows / panes / names / running programs, switch between different sessions, and - best of all - <strong>detach</strong> from a session, log out, return later, <strong>re-attach</strong> and find the session layout preserved and programs continuing to run in the interim.</p>
<p><strong>Example:</strong> I can <tt class="docutils literal">ssh</tt> into my <a class="reference external" href="http://www.circuidipity.com/raspberry-pi-home-server.html">home server</a>, start a <tt class="docutils literal">tmux</tt> session and create multiple windows, run <a class="reference external" href="http://libtorrent.rakshasa.no/">rtorrent</a> in a window to start seeding a Linux <tt class="docutils literal">iso</tt>, detach from session and server, and return later to find everything in place and the <tt class="docutils literal">iso</tt> uploading.</p>
<p><strong>Install:</strong> On Ubuntu/Debian ...</p>
<div class="highlight"><pre><span></span>$ sudo apt install tmux
</pre></div>
<p>Commands entered inside a <tt class="docutils literal">tmux</tt> session are preceded by the key combination <tt class="docutils literal"><span class="pre">CTRL-b</span></tt> as the default <tt class="docutils literal">PREFIX</tt> (this can be modified in <tt class="docutils literal">.tmux.conf</tt>).</p>
<div class="section" id="helpful-commands">
<h2>Helpful Commands</h2>
<div class="section" id="sessions">
<h3>Sessions</h3>
<dl class="docutils">
<dt><tt class="docutils literal">tmux new <span class="pre">-s</span> blogging</tt></dt>
<dd>start new session with the name <em>blogging</em></dd>
<dt><tt class="docutils literal">tmux attach <span class="pre">-t</span> blogging</tt></dt>
<dd>attach to a session with the name <em>blogging</em></dd>
<dt><tt class="docutils literal">tmux ls</tt> | <tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">s</tt></dt>
<dd>show the session list</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">(</tt></dt>
<dd>move to previous session</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">)</tt></dt>
<dd>move to next session</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">?</tt></dt>
<dd>show every <em>bound key</em> and the command it runs</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">d</tt></dt>
<dd>detach from session</dd>
<dt><tt class="docutils literal">tmux <span class="pre">kill-session</span> <span class="pre">-t</span> blogging</tt></dt>
<dd>kill session <em>blogging</em></dd>
<dt><tt class="docutils literal">tmux info</tt></dt>
<dd>show every session, window, pane, etc...</dd>
</dl>
</div>
<div class="section" id="windows-and-panes">
<h3>Windows and Panes</h3>
<dl class="docutils">
<dt><tt class="docutils literal">tmux new <span class="pre">-s</span> blogging <span class="pre">-n</span> vim</tt></dt>
<dd>create session <em>blogging</em> with a window named <em>vim</em></dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">c</tt></dt>
<dd>create window</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">,</tt></dt>
<dd>rename window</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">0</tt> ... <tt class="docutils literal">9</tt></dt>
<dd>select window by number</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">p</tt> | <tt class="docutils literal">n</tt></dt>
<dd>previous | next window</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">%</tt></dt>
<dd>arrange panes vertically</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">&quot;</tt></dt>
<dd>arrange panes horizontally</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">;</tt></dt>
<dd>toggle last active pane</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">{</tt> | <tt class="docutils literal">}</tt></dt>
<dd>swap pane location</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">o</tt></dt>
<dd>cycle through panes</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">SPACEBAR</tt></dt>
<dd>cycle through built-in pane layouts</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">z</tt></dt>
<dd>toggle pane zoom</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">!</tt></dt>
<dd>convert pane into a window</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">x</tt></dt>
<dd>close pane</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">&amp;</tt></dt>
<dd>close current window ... if last window the session terminates</dd>
</dl>
</div>
<div class="section" id="command-mode">
<h3>Command Mode</h3>
<dl class="docutils">
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">:</tt></dt>
<dd>enter command mode</dd>
</dl>
</div>
<div class="section" id="copy-mode">
<h3>Copy Mode</h3>
<dl class="docutils">
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">[</tt></dt>
<dd>enter copy mode</dd>
<dt><tt class="docutils literal">g</tt> | <tt class="docutils literal">G</tt></dt>
<dd>top | bottom of buffer</dd>
<dt><tt class="docutils literal">h</tt> | <tt class="docutils literal">j</tt> | <tt class="docutils literal">k</tt> | <tt class="docutils literal">l</tt></dt>
<dd>move cursor left | down | up | right (in vi mode)</dd>
<dt><tt class="docutils literal">w</tt> | <tt class="docutils literal">b</tt></dt>
<dd>move cursor forward | backward one word at a time (in vi mode)</dd>
<dt><tt class="docutils literal">?</tt> | <tt class="docutils literal">n</tt> | <tt class="docutils literal">N</tt></dt>
<dd>search for <em>keyword</em> | next occurance | previous occurance</dd>
<dt><tt class="docutils literal">SPACEBAR</tt> | <tt class="docutils literal">ENTER</tt></dt>
<dd>start copy | stop copy</dd>
<dt><tt class="docutils literal">PREFIX</tt> <tt class="docutils literal">]</tt></dt>
<dd>paste contents of buffer_0</dd>
<dt><tt class="docutils literal">ENTER</tt></dt>
<dd>exit copy mode</dd>
</dl>
</div>
<div class="section" id="inside-command-mode">
<h3>Inside command mode...</h3>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">show-buffer</span></tt></dt>
<dd>display buffer_0 contents</dd>
<dt><tt class="docutils literal"><span class="pre">capture-pane</span></tt></dt>
<dd>copy entire visible contents of pane to a buffer</dd>
<dt><tt class="docutils literal"><span class="pre">list-buffers</span></tt></dt>
<dd>list all buffers</dd>
<dt><tt class="docutils literal"><span class="pre">choose-buffer</span></tt></dt>
<dd>list all buffers and paste selected buffer</dd>
<dt><tt class="docutils literal"><span class="pre">save-buffer</span> log.txt</tt></dt>
<dd>save buffer contents to <em>log.txt</em></dd>
<dt><tt class="docutils literal"><span class="pre">delete-buffer</span> âˆ’b 4</tt></dt>
<dd>delete <em>buffer_4</em></dd>
</dl>
</div>
</div>
<div class="section" id="configure">
<h2>Configure</h2>
<p>Customize <tt class="docutils literal">tmux</tt> by creating a <tt class="docutils literal"><span class="pre">~/.tmux.conf</span></tt> configuration file. Different key combinations, colours, items running in the status bar, activity alerts can be configured with <tt class="docutils literal">command</tt> <tt class="docutils literal">OPTION</tt>:</p>
<dl class="docutils">
<dt><tt class="docutils literal">set <span class="pre">-g</span> OPTION</tt></dt>
<dd>set OPTION for all tmux sessions</dd>
<dt><tt class="docutils literal">setw <span class="pre">-g</span> OPTION</tt></dt>
<dd>set OPTION for all windows</dd>
<dt><tt class="docutils literal">setw <span class="pre">-g</span> <span class="pre">mode-keys</span> vi</tt></dt>
<dd>use vi keys in buffer</dd>
<dt><tt class="docutils literal">unbind KEY</tt></dt>
<dd>release default KEY for user customization</dd>
<dt><tt class="docutils literal">bind KEY OPTION</tt></dt>
<dd>bind KEY to OPTION</dd>
</dl>
<p><strong>Example:</strong> My own <a class="reference external" href="https://github.com/vonbrownie/dotfiles/blob/master/.tmux.conf">.tmux.conf</a> configuration.</p>
</div>
<div class="section" id="layouts">
<h2>Layouts</h2>
<p>Pre-configured layouts can be created to batch together <tt class="docutils literal">tmux</tt> options for custom work environments. Such options might include:</p>
<dl class="docutils">
<dt><tt class="docutils literal"><span class="pre">source-file</span> <span class="pre">~/.tmux.conf</span></tt></dt>
<dd>import settings from my default config</dd>
<dt><tt class="docutils literal"><span class="pre">new-window</span> <span class="pre">-t</span> development</tt></dt>
<dd>create new window in the <em>development</em> session</dd>
<dt><tt class="docutils literal"><span class="pre">split-window</span> <span class="pre">-v</span> <span class="pre">-t</span> development</tt></dt>
<dd>arrange panes vertically inside a window in <em>development</em></dd>
<dt><tt class="docutils literal"><span class="pre">send-keys</span> <span class="pre">-t</span> development:1.0 'vim' <span class="pre">C-m</span></tt></dt>
<dd>in <em>development</em> run <tt class="docutils literal">vim</tt> in window_1 pane_0 and <tt class="docutils literal"><span class="pre">C-m</span></tt> sends the Carriage Return sequence</dd>
</dl>
<p><strong>Example:</strong> I created a <a class="reference external" href="https://github.com/vonbrownie/dotfiles/blob/master/.tmux.default.conf">tmux.default.conf</a> to outline my standard <tt class="docutils literal">tmux</tt> session layout and a simple launcher to create / attach sessions that source the file:</p>
<div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>
<span class="c1"># Launch/attach tmux session with $CONFIG</span>
<span class="nv">CONFIG</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/doc/code/tmux_scripts/default.conf&quot;</span>

tmux -f <span class="nv">$CONFIG</span> attach
</pre></div>
<p>Happy hacking!</p>
</div>

    <p class="articletags"><i class="fa fa-coffee"></i> More         &#8226; <a class="tag" href="http://www.circuidipity.com/tag-tmux.html">tmux</a>
        &#8226; <a class="tag" href="http://www.circuidipity.com/tag-shell.html">shell</a>
        &#8226; <a class="tag" href="http://www.circuidipity.com/tag-tools.html">tools</a>
        &#8226; <a class="tag" href="http://www.circuidipity.com/tag-linux.html">linux</a>
</p>
</div>

<!-- Nav links to previous|next article -->
<div id="navmenu">
    <hr />
    <p class="prevpost"><i class="fa fa-arrow-left"></i> Older<br />
        <a href="http://www.circuidipity.com/easy-8-bit-pixel-images.html">Easy 8-bit pixel images</a></p>
    <p class="nextpost">Newer <i class="fa fa-arrow-right"></i><br />
        <a href="http://www.circuidipity.com/snapshot-debian.html">Snapshot Debian</a></p>
</div>


        <!-- footer -->
<div id="footer">
    <img class="imgfooter" src="./theme/images/footerbar.png" />
    <p class="contentinfo">
    <span class="noWrap">
        Copyright &#169; 2017 and
        <a rel="license" class="ccLicense" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA License</a> by
        <a rel="author" class="authorID" href="/">Daniel Wayne Armstrong</a>
    </span>
    <span class="noWrap">
        <i class="fa fa-globe"></i>
        Find me at <span class="whoa">daniel at circuidipity dot com</span>
    </span>
    <br />
    Don't miss a thing... updates by
    <a href="feed.xml">RSS</a> and
    <a class="subTweat" href="https://twitter.com/circuidipity">Twitter</a>
    </p>
</div></body>
</html>