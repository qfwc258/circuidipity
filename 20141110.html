<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
        <title>Circuidipity | Dual display configuration in Lubuntu</title>
        <meta http-equiv="content-type" content="text/html"; charset="utf-8" />
        <meta http-equiv="pragma" content="no-cache" />
        <meta name="author" content="Daniel Wayne Armstrong" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/main.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/pygment.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/font.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/images/icons/font-awesome/css/font-awesome.min.css">
        <link rel="icon" href="http://www.circuidipity.com/theme/images/favicon.ico" type="image/x-icon" />
</head>

<body>
        <!-- content -->

<!-- breadcrumb trail -->
<div id="breadcrumb">
    <p><a href="/"><i class="fa fa-rocket"></i> Howdy!</a> &nbsp;<i class="fa fa-arrow-right"></i>&nbsp;
    <a href="archives.html">Archives</a> &nbsp;<i class="fa fa-arrow-right"></i>&nbsp;
    Monday 10 November 2014</p>
</div>

<!-- article -->
<h1>Dual display configuration in Lubuntu</h1>
<div id="article">
    <p><strong>Scenario:</strong> I connect my <strong>Thinkpad X201</strong> running Lubuntu and <strong>LXDE</strong> (resolution: <tt class="docutils literal">1280x800</tt>) to an external display (resolution: <tt class="docutils literal">1920x1200</tt>) to create: 1) a combined desktop; 2) with <strong>lxpanel</strong> top aligned and stretched across both displays; 3) and a different wallpaper on each display.</p>
<div class="section" id="let-s-go">
<h2>Let's go!</h2>
<div class="section" id="xrandr">
<h3>0. Xrandr</h3>
<p>Output information about connected display devices and supported resolutions using <strong>Xrandr</strong>:</p>
<div class="highlight"><pre><span class="nv">$ </span>xrandr
Screen 0: minimum 320 x 200, current 3200 x 1200, maximum 32767 x 32767
LVDS1 connected 1280x800+0+0 <span class="o">(</span>normal left inverted right x axis y axis<span class="o">)</span> 261mm x 163mm
    1280x800       60.0*+   50.1
    1024x768       60.0
    800x600        60.3     56.2
    640x480        59.9
VGA1 connected primary 1920x1200+1280+0 <span class="o">(</span>normal left inverted right x axis y axis<span class="o">)</span> 593mm x 371mm
    1920x1200      60.0*+
    1680x1050      60.0
    1400x1050      60.0
    1280x1024      75.0     60.0
    1440x900       59.9
    1280x960       60.0
    1152x864       75.0
    1024x768       75.1     70.1     60.0
    832x624        74.6
    800x600        72.2     75.0     60.3     56.2
    640x480        75.0     72.8     66.7     60.0
    720x400        70.1
HDMI1 disconnected <span class="o">(</span>normal left inverted right x axis y axis<span class="o">)</span>
DP1 disconnected <span class="o">(</span>normal left inverted right x axis y axis<span class="o">)</span>
VIRTUAL1 disconnected <span class="o">(</span>normal left inverted right x axis y axis<span class="o">)</span>
</pre></div>
</div>
<div class="section" id="dualdisplay">
<h3>1. dualDisplay</h3>
<p>Create a <a class="reference external" href="https://github.com/vonbrownie/linux-home-bin/blob/master/dualDisplay">dualDisplay</a> shell script to generate a combined desktop (with external monitor set as primary display and positioned to the right of laptop display):</p>
<div class="highlight"><pre><span class="c">#!/bin/bash</span>
<span class="nv">first_dsply</span><span class="o">=</span><span class="k">$(</span>xrandr | grep <span class="s2">&quot; connected&quot;</span> | awk <span class="s1">&#39;FNR == 1 {print $1}&#39;</span><span class="k">)</span>
<span class="nv">second_dsply</span><span class="o">=</span><span class="k">$(</span>xrandr | grep <span class="s2">&quot; connected&quot;</span> | awk <span class="s1">&#39;FNR == 2 {print $1}&#39;</span><span class="k">)</span>
<span class="nv">conf_dsply</span><span class="o">=</span><span class="s2">&quot;xrandr --output $first_dsply --auto --output $second_dsply --primary&quot;</span>

<span class="k">if</span> <span class="o">[[</span> -n <span class="nv">$second_dsply</span> <span class="o">]]</span>
<span class="k">then</span>
    <span class="nv">$conf_dsply</span> --auto --right-of <span class="nv">$first_dsply</span>
<span class="k">fi</span>
</pre></div>
<p>Save the script to <tt class="docutils literal">~/bin</tt> or <tt class="docutils literal">/usr/local/bin</tt> and <tt class="docutils literal">chmod 755 dualDisplay</tt> to make it executable.</p>
<p>Sources: <a class="reference external" href="https://github.com/vonbrownie/linux-home-bin/blob/master/dualDisplay">dualDisplay</a> and its companion <a class="reference external" href="https://github.com/vonbrownie/linux-home-bin/blob/master/Library.sh">Library.sh</a> (github.com/vonbrownie)</p>
</div>
<div class="section" id="autostart">
<h3>2. Autostart</h3>
<p>Add <tt class="docutils literal">dualDisplay</tt> to <tt class="docutils literal"><span class="pre">~/.config/lxsession/Lubuntu/autostart</span></tt> to run script at login.</p>
</div>
<div class="section" id="wallpaper">
<h3>3. Wallpaper</h3>
<p>Desktop wallpapers are controlled by <strong>PCManFM</strong> by default in Lubuntu. To configure a different wallpaper for each display... navigate to <tt class="docutils literal"><span class="pre">~/.config/pcmanfm/lubuntu</span></tt> and modify the <tt class="docutils literal">wallpaper</tt> setting in <tt class="docutils literal"><span class="pre">desktop-items-*.conf</span></tt>:</p>
<ul class="simple">
<li>laptop display is <tt class="docutils literal"><span class="pre">desktop-items-0.conf</span></tt>:</li>
</ul>
<div class="highlight"><pre><span class="nv">wallpaper</span><span class="o">=</span>/path/to/laptop-wallpaper.jpg
</pre></div>
<ul class="simple">
<li>external display is <tt class="docutils literal"><span class="pre">desktop-items-1.conf</span></tt>:</li>
</ul>
<div class="highlight"><pre><span class="nv">wallpaper0</span><span class="o">=</span>/path/to/external-wallpaper.jpg
</pre></div>
<p>Save all changes and logout. LXDE will now auto-detect at login if a second display is attached and make the necessary adjustments.</p>
<p>Happy hacking!</p>
</div>
</div>

    <p class="articletags"><i class="fa fa-coffee"></i> More         &#8226; <a class="tag" href="http://www.circuidipity.com/tag-lxde.html">lxde</a>
        &#8226; <a class="tag" href="http://www.circuidipity.com/tag-lubuntu.html">lubuntu</a>
        &#8226; <a class="tag" href="http://www.circuidipity.com/tag-ubuntu.html">ubuntu</a>
        &#8226; <a class="tag" href="http://www.circuidipity.com/tag-linux.html">linux</a>
</p>
</div>

<!-- Nav links to previous|next article -->
<div id="navmenu">
    <hr />
    <p class="prevpost"><i class="fa fa-arrow-left"></i> Older<br />
        <a href="http://www.circuidipity.com/20141106.html">Links of interest</a></p>
</div>


        <!-- footer -->
<div id="footer">
    <img class="imgfooter" src="./theme/images/footerbar.png" />
    <p class="contentinfo">
    <span class="noWrap">
        Copyright &#169; 2014 and
        <a rel="license" class="ccLicense" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA License</a> by
        <a rel="author" class="authorID" href="/">Daniel Wayne Armstrong</a>
    </span>
    <span class="noWrap">
        <i class="fa fa-globe"></i>
        Find me at <span class="whoa">daniel at circuidipity dot com</span>
    </span>
    <br />
    Don't miss a thing... updates by
    <a href="feed.xml">RSS</a> and
    <a class="subTweat" href="https://twitter.com/circuidipity">Twitter</a>
    </p>
</div></body>
</html>