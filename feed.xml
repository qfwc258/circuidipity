<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Circuidipity</title><link href="http://www.circuidipity.com/" rel="alternate"></link><link href="http://www.circuidipity.com/feed.xml" rel="self"></link><id>http://www.circuidipity.com/</id><updated>2014-09-05T00:00:00-04:00</updated><entry><title>Ping Parade #1 -- Repurpose</title><link href="http://www.circuidipity.com/pingparade1.html" rel="alternate"></link><updated>2014-09-05T00:00:00-04:00</updated><author><name>Daniel Wayne Armstrong</name></author><id>tag:www.circuidipity.com,2014-09-05:pingparade1.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;Give new life to an old netbook or laptop as a Linux home server.&lt;/strong&gt;&lt;/p&gt;
&lt;img alt="netbook server" src="images/pingparade1-0.png" style="width: 960px; height: 500px;" /&gt;
&lt;p&gt;Running your own Linux home server is a fun learning experience and offers several advantages.&lt;/p&gt;
&lt;p&gt;It is cheap if you already have a spare machine. Or search for inexpensive, second-hand netbooks now that the short-lived craze for these lightweight devices has well and truly passed. An old netbook or laptop - retired in favour of more current and powerful machines - can still deliver plenty of &lt;em&gt;oomph&lt;/em&gt; for running a personal server. Netbooks are frugal with power and come equipped with multiple network interfaces and their own built-in UPS/battery! I have been using an Asus 900HA netbook equipped with 1GM RAM and (user-replaced) 500GB hard drive for the past few years as a 24/7 home server.&lt;/p&gt;
&lt;p&gt;A stable Linux distribution can be installed on the device and provide ongoing services such as printing, hosting torrents or websites, and file backups. &lt;a class="reference external" href="http://www.debian.org"&gt;Debian GNU/Linux&lt;/a&gt; is an operating system created by volunteers of one of the largest and longest-running free software projects in the world. More than a hundred other Linux distributions like &lt;a class="reference external" href="http://www.circuidipity.com/ubuntu-trusty-install.html"&gt;Ubuntu&lt;/a&gt; build their edifices on solid Debian &lt;em&gt;awesomesauce&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;There are 3 Debian &lt;strong&gt;release branches&lt;/strong&gt; - &lt;tt class="docutils literal"&gt;stable&lt;/tt&gt;, &lt;tt class="docutils literal"&gt;testing&lt;/tt&gt;, and &lt;tt class="docutils literal"&gt;unstable&lt;/tt&gt; - and the current stable branch goes by the name &lt;strong&gt;wheezy&lt;/strong&gt;. I use the &lt;a class="reference external" href="http://www.circuidipity.com/multi-boot-usb.html"&gt;minimal install image&lt;/a&gt; to create a &lt;strong&gt;lightweight, console-only&lt;/strong&gt; base configuration that can be customized for various tasks.&lt;/p&gt;
&lt;p&gt;Below is a visual walk-through of a sample Debian home server setup that makes use of an entire storage device divided into &lt;tt class="docutils literal"&gt;root&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;swap&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;home&lt;/tt&gt; partitions.&lt;/p&gt;
&lt;div class="section" id="step-0-installer"&gt;
&lt;h2&gt;Step 0 - Installer&lt;/h2&gt;
&lt;p&gt;Download a &lt;a class="reference external" href="http://ftp.us.debian.org/debian/dists/stable/main/installer-i386/current/images/netboot/mini.iso"&gt;Debian mini.iso&lt;/a&gt; and burn the image to a CD or &lt;a class="reference external" href="http://www.circuidipity.com/multi-boot-usb.html"&gt;prepare a USB boot device&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="step-1-go"&gt;
&lt;h2&gt;Step 1 - Go!&lt;/h2&gt;
&lt;img alt="Install" class="align-center" src="images/screenshot/netbookServer/01.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Select Language" class="align-center" src="images/screenshot/netbookServer/02.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Select Location" class="align-center" src="images/screenshot/netbookServer/03.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Configure Keyboard" class="align-center" src="images/screenshot/netbookServer/04.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Hostname" class="align-center" src="images/screenshot/netbookServer/05.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Domain" class="align-center" src="images/screenshot/netbookServer/06.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Mirror Country" class="align-center" src="images/screenshot/netbookServer/07.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Mirror archive" class="align-center" src="images/screenshot/netbookServer/08.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Mirror Directory" class="align-center" src="images/screenshot/netbookServer/09.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Proxy" class="align-center" src="images/screenshot/netbookServer/10.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Root password" class="align-center" src="images/screenshot/netbookServer/11.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Verify password" class="align-center" src="images/screenshot/netbookServer/12.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Full Name" class="align-center" src="images/screenshot/netbookServer/13.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Username" class="align-center" src="images/screenshot/netbookServer/14.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="User password" class="align-center" src="images/screenshot/netbookServer/15.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Verify password" class="align-center" src="images/screenshot/netbookServer/16.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Select time zone" class="align-center" src="images/screenshot/netbookServer/17.png" style="width: 800px; height: 600px;" /&gt;
&lt;/div&gt;
&lt;div class="section" id="step-2-partitions"&gt;
&lt;h2&gt;Step 2 - Partitions&lt;/h2&gt;
&lt;p&gt;In the example below I create 3 partitions on the disk:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;sda1 is a 10GB &lt;tt class="docutils literal"&gt;root&lt;/tt&gt; partition&lt;/li&gt;
&lt;li&gt;sda5 is a 1GB &lt;tt class="docutils literal"&gt;swap&lt;/tt&gt; partition&lt;/li&gt;
&lt;li&gt;sda6 uses remaining space as a &lt;tt class="docutils literal"&gt;home&lt;/tt&gt; partition (useful backup location for user files)&lt;/li&gt;
&lt;/ul&gt;
&lt;img alt="Partitioning method" class="align-center" src="images/screenshot/netbookServer/18.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Partition disks" class="align-center" src="images/screenshot/netbookServer/19.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Partition table" class="align-center" src="images/screenshot/netbookServer/20.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Free space" class="align-center" src="images/screenshot/netbookServer/21.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="New Partition" class="align-center" src="images/screenshot/netbookServer/22.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Partition size" class="align-center" src="images/screenshot/netbookServer/23.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Primary partition" class="align-center" src="images/screenshot/netbookServer/24.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Beginning" class="align-center" src="images/screenshot/netbookServer/25.png" style="width: 800px; height: 600px;" /&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;Setting &lt;em&gt;Mount options&lt;/em&gt; to &lt;em&gt;noatime&lt;/em&gt; decreases write operations and boosts drive speed.&lt;/p&gt;
&lt;/div&gt;
&lt;img alt="Mount options" class="align-center" src="images/screenshot/netbookServer/26.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="noatime" class="align-center" src="images/screenshot/netbookServer/27.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Done setting up partition" class="align-center" src="images/screenshot/netbookServer/28.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Free space" class="align-center" src="images/screenshot/netbookServer/29.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="New partition" class="align-center" src="images/screenshot/netbookServer/30.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Partition size" class="align-center" src="images/screenshot/netbookServer/31.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Logical partition" class="align-center" src="images/screenshot/netbookServer/32.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Beginning" class="align-center" src="images/screenshot/netbookServer/33.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Use as" class="align-center" src="images/screenshot/netbookServer/34.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Swap area" class="align-center" src="images/screenshot/netbookServer/35.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Done with partition" class="align-center" src="images/screenshot/netbookServer/36.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Free space" class="align-center" src="images/screenshot/netbookServer/37.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="New partition" class="align-center" src="images/screenshot/netbookServer/38.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Partition size" class="align-center" src="images/screenshot/netbookServer/39.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Logical partition" class="align-center" src="images/screenshot/netbookServer/40.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Mount options" class="align-center" src="images/screenshot/netbookServer/41.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="noatime" class="align-center" src="images/screenshot/netbookServer/42.png" style="width: 800px; height: 600px;" /&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;&lt;strong&gt;Reserved blocks&lt;/strong&gt; can be used by privileged system processes to write to disk - useful if a full filesystem blocks users from writing - and reduce disk fragmentation. On large, non-root partitions extra space can be gained by reducing the 5% reserve set aside by Debian to 1%.&lt;/p&gt;
&lt;/div&gt;
&lt;img alt="Reserved blocks" class="align-center" src="images/screenshot/netbookServer/43.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Percent reserved" class="align-center" src="images/screenshot/netbookServer/44.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Done setting up the partition" class="align-center" src="images/screenshot/netbookServer/45.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Finish partitioning" class="align-center" src="images/screenshot/netbookServer/46.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Write changes to disk" class="align-center" src="images/screenshot/netbookServer/47.png" style="width: 800px; height: 600px;" /&gt;
&lt;/div&gt;
&lt;div class="section" id="step-3-install-packages-and-reboot"&gt;
&lt;h2&gt;Step 3 - Install packages and reboot&lt;/h2&gt;
&lt;img alt="Popularity-contest" class="align-center" src="images/screenshot/netbookServer/48.png" style="width: 800px; height: 600px;" /&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;Select only &lt;strong&gt;[*] Standard system utilities&lt;/strong&gt; if you wish to start with a minimal, console-only base configuration ready for further customization. The task menu can be accessed post-install by running &lt;tt class="docutils literal"&gt;tasksel&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;img alt="Software selection" class="align-center" src="images/screenshot/netbookServer/49.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="GRUB" class="align-center" src="images/screenshot/netbookServer/50.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Finish install" class="align-center" src="images/screenshot/netbookServer/51.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="GRUB menu" class="align-center" src="images/screenshot/netbookServer/52.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Login" class="align-center" src="images/screenshot/netbookServer/53.png" style="width: 800px; height: 600px;" /&gt;
&lt;/div&gt;
&lt;div class="section" id="step-4-static-network-interface"&gt;
&lt;h2&gt;Step 4 - Static network interface&lt;/h2&gt;
&lt;p&gt;For a home server that is going to stay put in one location its a good idea to configure the device with a static network interface. Log in as root and run &lt;tt class="docutils literal"&gt;nano /etc/network/interfaces&lt;/tt&gt; to configure (in example below) the ethernet port with a static address...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# The loopback network interface&lt;/span&gt;
auto lo
iface lo inet loopback

&lt;span class="c"&gt;# The primary network interface&lt;/span&gt;
auto eth0
iface eth0 inet static
    address 192.168.1.2
    netmask 255.255.255.0
    gateway 192.168.1.1  &lt;span class="c"&gt;# home router address&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="step-5-post-install-configuration"&gt;
&lt;h2&gt;Step 5 - Post-install configuration&lt;/h2&gt;
&lt;p&gt;I have created a &lt;a class="reference external" href="https://github.com/vonbrownie/linux-post-install/blob/master/debian-post-install-main.sh"&gt;post-install shell script&lt;/a&gt; that can be used to configure tracking of Debian's stable, testing, or unstable branch with the option of installing the &lt;strong&gt;Openbox&lt;/strong&gt; window manager or (more suitable for a server setup) sticking with a console-only environment.&lt;/p&gt;
&lt;p&gt;Happy hacking!&lt;/p&gt;
&lt;/div&gt;
</summary><category term="network"></category><category term="debian"></category><category term="linux"></category></entry><entry><title>Modify the default boot order in GRUB</title><link href="http://www.circuidipity.com/20140831.html" rel="alternate"></link><updated>2014-08-31T00:00:00-04:00</updated><author><name>Daniel Wayne Armstrong</name></author><id>tag:www.circuidipity.com,2014-08-31:20140831.html</id><summary type="html">&lt;p&gt;My &lt;a class="reference external" href="http://www.circuidipity.com/c720-sidbook.html"&gt;Chromebook running Debian&lt;/a&gt; requires a less-than-recent kernel (3.13.10) that supports &lt;a class="reference external" href="https://github.com/vonbrownie/linux-post-install/blob/master/extra/c720_sidbook/scripts/c720-kernel-mods.sh"&gt;compiling modules&lt;/a&gt; for the laptop's touchpad. After installing a kernel retrieved from &lt;a class="reference external" href="http://snapshot.debian.org"&gt;snapshot.debian.org&lt;/a&gt; the GRUB boot manager auto-generates a menuentry for the new kernel but defaults to booting the most recent kernel available.&lt;/p&gt;
&lt;p&gt;This is how I changed the GRUB boot order to default to my touchpad-friendly kernel.&lt;/p&gt;
&lt;div class="section" id="step-0-install-a-less-than-current-debian-packaged-kernel"&gt;
&lt;h2&gt;Step 0 - Install a (less-than-current) Debian-packaged kernel&lt;/h2&gt;
&lt;p&gt;I am running Debian's &lt;em&gt;sid&lt;/em&gt; (unstable) branch and the 3.13.X kernel is no longer available in the package manager. I download the kernel headers and image and install the packages using &lt;tt class="docutils literal"&gt;dpkg&lt;/tt&gt; ...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;wget http://snapshot.debian.org/archive/debian/20140320T042639Z/pool/main/l/linux-tools/linux-kbuild-3.13_3.13.6-1_amd64.deb
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo dpkg -i linux-kbuild-3.13_3.13.6-1_amd64.deb
&lt;span class="nv"&gt;$ &lt;/span&gt;wget http://snapshot.debian.org/archive/debian/20140416T101543Z/pool/main/l/linux/linux-headers-3.13-1-common_3.13.10-1_amd64.deb
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo dpkg -i linux-headers-3.13-1-common_3.13.10-1_amd64.deb
&lt;span class="nv"&gt;$ &lt;/span&gt;wget http://snapshot.debian.org/archive/debian/20140416T101543Z/pool/main/l/linux/linux-headers-3.13-1-amd64_3.13.10-1_amd64.deb
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo dpkg -i linux-headers-3.13-1-amd64_3.13.10-1_amd64.deb
&lt;span class="nv"&gt;$ &lt;/span&gt;wget http://snapshot.debian.org/archive/debian/20140416T101543Z/pool/main/l/linux/linux-image-3.13-1-amd64_3.13.10-1_amd64.deb
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo dpkg -i linux-image-3.13-1-amd64_3.13.10-1_amd64.deb
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A menuentry for the new kernel is auto-generated in &lt;tt class="docutils literal"&gt;/boot/grub/grub.cfg&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="step-1-retrieve-the-kernel-menuentry"&gt;
&lt;h2&gt;Step 1 - Retrieve the kernel menuentry&lt;/h2&gt;
&lt;p&gt;Inside &lt;tt class="docutils literal"&gt;grub.cfg&lt;/tt&gt; there is an option for &lt;tt class="docutils literal"&gt;submenu 'Advanced options for Debian GNU/Linux'&lt;/tt&gt; and beneath it multiple menuentries for installed kernels and boot options. Using my Chromebook's 3.13.10 kernel as an example the relevant entry is ...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;menuentry &lt;span class="s1"&gt;&amp;#39;Debian GNU/Linux, with Linux 3.13-1-amd64&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This will be designated as the new default kernel to boot.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="step-2-set-default-kernel"&gt;
&lt;h2&gt;Step 2 - Set default kernel&lt;/h2&gt;
&lt;p&gt;Open &lt;tt class="docutils literal"&gt;/etc/default/grub&lt;/tt&gt; in an editor and modify &lt;tt class="docutils literal"&gt;GRUB_DEFAULT=&lt;/tt&gt; (set to '0' or most recent by default) to the new desired boot kernel. In the case of my Chromebook I include the submenu + menuentry in the modified setting ...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;GRUB_DEFAULT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;Advanced options for Debian GNU/Linux&amp;gt;Debian GNU/Linux, with Linux 3.13-1-amd64&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Run &lt;tt class="docutils literal"&gt;sudo &lt;span class="pre"&gt;update-grub&lt;/span&gt;&lt;/tt&gt; to generate a new config and reboot. At the GRUB splash screen the &lt;tt class="docutils literal"&gt;Advanced options for Debian GNU&lt;/tt&gt; menu will be the new default and the designated kernel will load.&lt;/p&gt;
&lt;p&gt;Happy hacking!&lt;/p&gt;
&lt;/div&gt;
</summary><category term="debian"></category><category term="linux"></category><category term="chromebook"></category></entry><entry><title>Linux post-install configuration scripts</title><link href="http://www.circuidipity.com/linux-post-install.html" rel="alternate"></link><updated>2014-08-27T00:00:00-04:00</updated><author><name>Daniel Wayne Armstrong</name></author><id>tag:www.circuidipity.com,2014-08-27:linux-post-install.html</id><summary type="html">&lt;p&gt;Scripts to configure a fresh installation of Debian GNU/Linux.&lt;/p&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;&lt;a class="reference external" href="https://github.com/vonbrownie/linux-post-install/blob/master/debian-post-install-main.sh"&gt;debian-post-install-main.sh&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Track the &lt;em&gt;wheezy&lt;/em&gt; (stable), &lt;em&gt;jessie&lt;/em&gt; (testing), or &lt;em&gt;sid&lt;/em&gt; (unstable) branch with the option of installing the lightweight Openbox window manager + extra apps suitable for a desktop environment.&lt;/p&gt;
&lt;p&gt;See: &lt;a class="reference external" href="http://www.circuidipity.com/install-debian-wheezy-screenshot-tour.html"&gt;Debian Wheezy Minimal Install&lt;/a&gt; and &lt;a class="reference external" href="http://www.circuidipity.com/grml-debootstrap.html"&gt;Install Debian using grml-debootstrap&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;&lt;a class="reference external" href="https://github.com/vonbrownie/linux-post-install/blob/master/c720-sidbook-post-install-main.sh"&gt;c720-sidbook-post-install-main.sh&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Configures the &lt;strong&gt;Acer C720 Chromebook&lt;/strong&gt; to track Debian's &lt;em&gt;sid&lt;/em&gt; branch and installs Openbox.&lt;/p&gt;
&lt;p&gt;See: &lt;a class="reference external" href="http://www.circuidipity.com/c720-sidbook.html"&gt;From Chromebook to Sidbook&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="usage"&gt;
&lt;h2&gt;Usage&lt;/h2&gt;
&lt;p&gt;Download the contents of &lt;a class="reference external" href="https://github.com/vonbrownie/linux-post-install"&gt;linux-post-install&lt;/a&gt; (github.com/vonbrownie), navigate to the folder, and run:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="gp"&gt;$&lt;/span&gt; &lt;span class="nb"&gt;cd &lt;/span&gt;SCRIPTS_LOCATION
&lt;span class="gp"&gt;$&lt;/span&gt; sudo ./SCRIPT-post-install-main.sh
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Happy hacking!&lt;/p&gt;
&lt;/div&gt;
</summary><category term="debian"></category><category term="linux"></category><category term="chromebook"></category><category term="shell"></category><category term="programming"></category></entry><entry><title>Ship or sails adapted to the heavenly breezes</title><link href="http://www.circuidipity.com/heavenly-breezes.html" rel="alternate"></link><updated>2014-07-10T00:00:00-04:00</updated><author><name>Daniel Wayne Armstrong</name></author><id>tag:www.circuidipity.com,2014-07-10:heavenly-breezes.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;Johannes Kepler&lt;/strong&gt; in a letter to &lt;strong&gt;Galileo Galilei&lt;/strong&gt; - &lt;em&gt;Conversation with the Messenger from the Stars&lt;/em&gt; - dated 19 April 1610:&lt;/p&gt;
&lt;blockquote&gt;
As soon as somebody demonstrates the art of flying, settlers from our species of man will not be lacking [on the Moon and Jupiter]... Who would have believed that a huge ocean could be crossed more peacefully and safely than the the narrow expanse of the Adriatic, the Baltic Sea or the English Channel? Provide ship or sails adapted to the heavenly breezes, and there will be some who will not fear even that void [of space]... So, for those who will come shortly to attempt this journey, let us establish the astronomy: Galileo, you of Jupiter, I of the Moon.&lt;/blockquote&gt;
</summary><category term="quotes"></category><category term="space"></category></entry><entry><title>Increase RAM available to Raspberry Pi CPU</title><link href="http://www.circuidipity.com/pi-memory-split.html" rel="alternate"></link><updated>2014-07-09T00:00:00-04:00</updated><author><name>Daniel Wayne Armstrong</name></author><id>tag:www.circuidipity.com,2014-07-09:pi-memory-split.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;Raspberry Pi Model B Rev 2&lt;/strong&gt; has 512MB RAM that is partitioned between the CPU and the GPU. If the Pi is working as a headless server or the Pi desktop is being accessed via &lt;a class="reference external" href="http://www.raspberrypi.org/documentation/remote-access/vnc/"&gt;VNC&lt;/a&gt; (which doesn't utilize the GPU) the &lt;em&gt;memory split&lt;/em&gt; between the two processors can be altered to assign more memory to the CPU for running applications.&lt;/p&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;The &lt;strong&gt;Pi Camera Module&lt;/strong&gt; requires a minimum of 128MB RAM assigned to the GPU.&lt;/p&gt;
&lt;/div&gt;
&lt;p&gt;Default GPU memory on Raspbian is set to 64MB and the minimum recommended to ensure proper operation is 16MB. To modify GPU memory to 16MB either:&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;edit &lt;tt class="docutils literal"&gt;/boot/config.txt&lt;/tt&gt; and set &lt;tt class="docutils literal"&gt;gpu_mem=16&lt;/tt&gt;; or&lt;/li&gt;
&lt;li&gt;run &lt;tt class="docutils literal"&gt;sudo &lt;span class="pre"&gt;raspi-config&lt;/span&gt;&lt;/tt&gt; and select &lt;strong&gt;&amp;quot;8 Advanced Options -&amp;gt; A3 Memory Split&amp;quot;&lt;/strong&gt; and modify &lt;strong&gt;64&lt;/strong&gt; to &lt;strong&gt;16&lt;/strong&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Save the change, reboot the Pi, and enjoy the CPU memory boost!&lt;/p&gt;
&lt;p&gt;Source: &lt;a class="reference external" href="http://elinux.org/RPi_config.txt"&gt;RPiconfig&lt;/a&gt;&lt;/p&gt;
</summary><category term="raspberry pi"></category><category term="raspbian"></category><category term="linux"></category></entry><entry><title>Ubuntu 14.04 Minimal Install</title><link href="http://www.circuidipity.com/ubuntu-trusty-install.html" rel="alternate"></link><updated>2014-07-07T00:00:00-04:00</updated><author><name>Daniel Wayne Armstrong</name></author><id>tag:www.circuidipity.com,2014-07-07:ubuntu-trusty-install.html</id><summary type="html">&lt;img alt="Ubuntu Trusty Tahr" class="align-left" src="images/ubuntuTrusty.png" style="width: 100px; height: 100px;" /&gt;
&lt;p&gt;&lt;a class="reference external" href="http://www.ubuntu.com/desktop"&gt;Ubuntu 14.04 &amp;quot;Trusty Tahr&amp;quot;&lt;/a&gt; is a &lt;em&gt;long-term support&lt;/em&gt; release (till 2019) of the popular Linux operating system. I use Ubuntu's &lt;a class="reference external" href="https://help.ubuntu.com/community/Installation/MinimalCD"&gt;minimal install image&lt;/a&gt; to create a &lt;em&gt;lightweight, console-only&lt;/em&gt; base configuration that can be customized for various tasks and alternate desktops.&lt;/p&gt;
&lt;p&gt;Below is a visual walk-through of a sample Ubuntu setup that makes use of an entire storage device divided into 3 partitions: unencrypted &lt;tt class="docutils literal"&gt;root&lt;/tt&gt; and &lt;a class="reference external" href="https://en.wikipedia.org/wiki/Linux_Unified_Key_Setup"&gt;LUKS&lt;/a&gt; encrypted &lt;tt class="docutils literal"&gt;home&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;swap&lt;/tt&gt;.&lt;/p&gt;
&lt;div class="section" id="step-0-installer"&gt;
&lt;h2&gt;Step 0 - Installer&lt;/h2&gt;
&lt;p&gt;Download a &lt;a class="reference external" href="http://archive.ubuntu.com/ubuntu/dists/trusty/main/installer-amd64/current/images/netboot/mini.iso"&gt;64-bit&lt;/a&gt; (&lt;a class="reference external" href="http://archive.ubuntu.com/ubuntu/dists/trusty/main/installer-i386/current/images/netboot/mini.iso"&gt;32-bit&lt;/a&gt; for older machines) Ubuntu &lt;em&gt;mini.iso&lt;/em&gt; and burn the image to a CD or &lt;a class="reference external" href="http://www.circuidipity.com/multi-boot-usb.html"&gt;prepare a USB boot device&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="step-1-go"&gt;
&lt;h2&gt;Step 1 - Go!&lt;/h2&gt;
&lt;img alt="Install" class="align-center" src="images/screenshot/trustyInstall/01.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Select Language" class="align-center" src="images/screenshot/trustyInstall/02.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Select Location" class="align-center" src="images/screenshot/trustyInstall/03.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Configure Keyboard" class="align-center" src="images/screenshot/trustyInstall/04.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Configure Keyboard" class="align-center" src="images/screenshot/trustyInstall/041.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Configure Keyboard" class="align-center" src="images/screenshot/trustyInstall/042.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Hostname" class="align-center" src="images/screenshot/trustyInstall/05.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Mirror Country" class="align-center" src="images/screenshot/trustyInstall/06.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Mirror archive" class="align-center" src="images/screenshot/trustyInstall/07.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Proxy" class="align-center" src="images/screenshot/trustyInstall/08.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Full Name" class="align-center" src="images/screenshot/trustyInstall/09.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Username" class="align-center" src="images/screenshot/trustyInstall/10.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="User password" class="align-center" src="images/screenshot/trustyInstall/11.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Verify password" class="align-center" src="images/screenshot/trustyInstall/12.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Encrypt home" class="align-center" src="images/screenshot/trustyInstall/13.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Configure clock" class="align-center" src="images/screenshot/trustyInstall/14.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Select time zone" class="align-center" src="images/screenshot/trustyInstall/15.png" style="width: 800px; height: 600px;" /&gt;
&lt;/div&gt;
&lt;div class="section" id="step-2-partitions"&gt;
&lt;h2&gt;Step 2 - Partitions&lt;/h2&gt;
&lt;p&gt;In the example below we create 3 partitions on the disk:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;sda1 is a 16GB &lt;tt class="docutils literal"&gt;root&lt;/tt&gt; partition&lt;/li&gt;
&lt;li&gt;sda5 is a 1GB LUKS encrypted &lt;tt class="docutils literal"&gt;swap&lt;/tt&gt; partition using a &lt;em&gt;random key&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;sda6 uses the remaining space as a LUKS encrypted &lt;tt class="docutils literal"&gt;home&lt;/tt&gt; partition using a &lt;em&gt;passphrase&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;img alt="Partitioning method" class="align-center" src="images/screenshot/trustyInstall/16.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Partition disks" class="align-center" src="images/screenshot/trustyInstall/17.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Partition table" class="align-center" src="images/screenshot/trustyInstall/18.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Free space" class="align-center" src="images/screenshot/trustyInstall/19.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="New Partition" class="align-center" src="images/screenshot/trustyInstall/20.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Partition size" class="align-center" src="images/screenshot/trustyInstall/21.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Primary partition" class="align-center" src="images/screenshot/trustyInstall/22.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Beginning" class="align-center" src="images/screenshot/trustyInstall/23.png" style="width: 800px; height: 600px;" /&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;Setting &lt;em&gt;Mount options&lt;/em&gt; to &lt;em&gt;noatime&lt;/em&gt; decreases write operations and boosts drive speed.&lt;/p&gt;
&lt;/div&gt;
&lt;img alt="Done setting up partition" class="align-center" src="images/screenshot/trustyInstall/24.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Free space" class="align-center" src="images/screenshot/trustyInstall/25.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="New partition" class="align-center" src="images/screenshot/trustyInstall/26.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Partition size" class="align-center" src="images/screenshot/trustyInstall/27.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Logical partition" class="align-center" src="images/screenshot/trustyInstall/28.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Beginning" class="align-center" src="images/screenshot/trustyInstall/29.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Use as" class="align-center" src="images/screenshot/trustyInstall/30.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Encrypt volume" class="align-center" src="images/screenshot/trustyInstall/31.png" style="width: 800px; height: 600px;" /&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;If the hard disk has not been securely wiped prior to installing Ubuntu (using a utility like &lt;a class="reference external" href="http://www.circuidipity.com/multi-boot-usb.html"&gt;DBAN&lt;/a&gt;) you may want to configure &lt;em&gt;Erase data&lt;/em&gt; as &lt;em&gt;yes&lt;/em&gt;. Note, however, that depending on the size of the disk this operation can last several hours.&lt;/p&gt;
&lt;/div&gt;
&lt;img alt="Encryption key" class="align-center" src="images/screenshot/trustyInstall/32.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Random key" class="align-center" src="images/screenshot/trustyInstall/33.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Done setting up partition" class="align-center" src="images/screenshot/trustyInstall/34.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Free space" class="align-center" src="images/screenshot/trustyInstall/35.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="New partition" class="align-center" src="images/screenshot/trustyInstall/36.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Partition size" class="align-center" src="images/screenshot/trustyInstall/37.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Logical partition" class="align-center" src="images/screenshot/trustyInstall/38.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Use as" class="align-center" src="images/screenshot/trustyInstall/39.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Encrypt volume" class="align-center" src="images/screenshot/trustyInstall/40.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Done setting up partition" class="align-center" src="images/screenshot/trustyInstall/41.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Configure encrypted volumes" class="align-center" src="images/screenshot/trustyInstall/42.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Write changes to disk" class="align-center" src="images/screenshot/trustyInstall/43.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Create encrypted volumes" class="align-center" src="images/screenshot/trustyInstall/44.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Devices to encrypt" class="align-center" src="images/screenshot/trustyInstall/45.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Finish encrypt" class="align-center" src="images/screenshot/trustyInstall/46.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Encryption passphrase" class="align-center" src="images/screenshot/trustyInstall/47.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Verify passphrase" class="align-center" src="images/screenshot/trustyInstall/48.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Configure encrypted volume" class="align-center" src="images/screenshot/trustyInstall/49.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Mount point" class="align-center" src="images/screenshot/trustyInstall/50.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Mount home" class="align-center" src="images/screenshot/trustyInstall/51.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Mount options" class="align-center" src="images/screenshot/trustyInstall/52.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="noatime" class="align-center" src="images/screenshot/trustyInstall/53.png" style="width: 800px; height: 600px;" /&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;&lt;em&gt;Reserved blocks&lt;/em&gt; can be used by privileged system processes to write to disk - useful if a full filesystem blocks users from writing - and reduce disk fragmentation. On large, non-root partitions extra space can be gained by reducing the 5% reserve set aside by Ubuntu to 1%.&lt;/p&gt;
&lt;/div&gt;
&lt;img alt="Reserved blocks" class="align-center" src="images/screenshot/trustyInstall/54.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Percent file blocks" class="align-center" src="images/screenshot/trustyInstall/55.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Done setting up partition" class="align-center" src="images/screenshot/trustyInstall/56.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Write changes to disk" class="align-center" src="images/screenshot/trustyInstall/57.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Confirm write" class="align-center" src="images/screenshot/trustyInstall/58.png" style="width: 800px; height: 600px;" /&gt;
&lt;/div&gt;
&lt;div class="section" id="step-3-install-packages-and-finish-up"&gt;
&lt;h2&gt;Step 3 - Install packages and finish up&lt;/h2&gt;
&lt;img alt="No automatic updates" class="align-center" src="images/screenshot/trustyInstall/59.png" style="width: 800px; height: 600px;" /&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;Leave all tasks unmarked if you wish to start with a minimal, console-only base configuration ready for further customization. The task menu can be accessed post-install by running &lt;tt class="docutils literal"&gt;sudo tasksel&lt;/tt&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;img alt="Software selection" class="align-center" src="images/screenshot/trustyInstall/60.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="GRUB" class="align-center" src="images/screenshot/trustyInstall/61.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="UTC" class="align-center" src="images/screenshot/trustyInstall/62.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Finish install" class="align-center" src="images/screenshot/trustyInstall/63.png" style="width: 800px; height: 600px;" /&gt;
&lt;div class="note"&gt;
&lt;p class="first admonition-title"&gt;Note&lt;/p&gt;
&lt;p class="last"&gt;If an encrypted &lt;tt class="docutils literal"&gt;home&lt;/tt&gt; partition was created in Step 2 the system will display a passphrase prompt to unlock the partition.&lt;/p&gt;
&lt;/div&gt;
&lt;img alt="Enter encrypt passphrase" class="align-center" src="images/screenshot/trustyInstall/64.png" style="width: 800px; height: 600px;" /&gt;
&lt;img alt="Login" class="align-center" src="images/screenshot/trustyInstall/65.png" style="width: 800px; height: 600px;" /&gt;
&lt;p&gt;Enjoy your fresh Ubuntu!&lt;/p&gt;
&lt;/div&gt;
</summary><category term="ubuntu"></category><category term="linux"></category></entry><entry><title>Raspberry Pi Plate</title><link href="http://www.circuidipity.com/pi-plate.html" rel="alternate"></link><updated>2014-07-03T00:00:00-04:00</updated><author><name>Daniel Wayne Armstrong</name></author><id>tag:www.circuidipity.com,2014-07-03:pi-plate.html</id><summary type="html">&lt;img alt="Raspberry Pi Plate" class="align-right" src="images/pi_plate_300.jpg" style="width: 300px; height: 400px;" /&gt;
&lt;p&gt;My new &lt;strong&gt;Raspberry Pi&lt;/strong&gt; attached to a bottom &lt;a class="reference external" href="http://www.thingiverse.com/thing:24096"&gt;Pi Plate&lt;/a&gt; I generated using my local library's 3D printer!&lt;/p&gt;
&lt;p&gt;The &lt;a class="reference external" href="http://www.torontopubliclibrary.ca/using-the-library/computer-services/innovation-spaces/3D-design-print.jsp"&gt;Toronto Public Library&lt;/a&gt; recently installed MakerBot &lt;a class="reference external" href="https://store.makerbot.com/replicator2"&gt;3D printers&lt;/a&gt; at two locations for public use.&lt;/p&gt;
</summary><category term="raspberry pi"></category><category term="3D printing"></category></entry><entry><title>Duplicate Debian package selection on multiple machines</title><link href="http://www.circuidipity.com/dpkg-duplicate.html" rel="alternate"></link><updated>2014-05-28T00:00:00-04:00</updated><author><name>Daniel Wayne Armstrong</name></author><id>tag:www.circuidipity.com,2014-05-28:dpkg-duplicate.html</id><summary type="html">&lt;p&gt;I am happy with the selection of packages installed on my &lt;a class="reference external" href="http://www.circuidipity.com/c720-sidbook.html"&gt;Debian-powered laptop&lt;/a&gt; and discovered an easy method to &lt;strong&gt;duplicate&lt;/strong&gt; the configuration on another machine.&lt;/p&gt;
&lt;p&gt;On the 'master' machine generate a list of installed packages...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;dpkg --get-selections | grep -v deinstall &amp;gt; deb-pkg-list.txt
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Move the generated list to the target machine. Configure the package manager to duplicate the selection on the new system...&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ PKGS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;mktemp&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo apt-cache dumpavail &amp;gt; &lt;span class="s2"&gt;&amp;quot;$PKGS&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo dpkg --merge-avail &lt;span class="s2"&gt;&amp;quot;$PKGS&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo rm -f &lt;span class="s2"&gt;&amp;quot;$PKGS&amp;quot;&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo dpkg --clear-selections
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo dpkg --set-selections &amp;lt; deb-pkg-list.txt
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo apt-get dselect-upgrade
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;I created a &lt;a class="reference external" href="https://github.com/vonbrownie/linux-home-bin/blob/master/dpkgDup"&gt;shell script&lt;/a&gt; that includes the above steps for generating and restoring package lists.&lt;/p&gt;
&lt;p&gt;Happy hacking!&lt;/p&gt;
&lt;p&gt;Sources: &lt;a class="reference external" href="https://github.com/vonbrownie/linux-home-bin/blob/master/dpkgDup"&gt;dpkgDup&lt;/a&gt;, &lt;a class="reference external" href="http://debian-handbook.info/browse/wheezy/sect.apt-get.html"&gt;Debian Administrator's Handbook&lt;/a&gt;&lt;/p&gt;
</summary><category term="debian"></category><category term="linux"></category><category term="shell"></category><category term="programming"></category></entry><entry><title>Policykit upgrade generates user permission problems</title><link href="http://www.circuidipity.com/policykit-upgrade-user-permission.html" rel="alternate"></link><updated>2014-05-15T00:00:00-04:00</updated><author><name>Daniel Wayne Armstrong</name></author><id>tag:www.circuidipity.com,2014-05-15:policykit-upgrade-user-permission.html</id><summary type="html">&lt;p&gt;After a recent upgrade on my 64-bit systems running Debian Sid/Unstable and Openbox I discovered user permission problems with:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;strong&gt;nm-applet&lt;/strong&gt; - &amp;quot;(32) Not authorized to control networking&amp;quot; - refusing to make new wireless connections&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;xfce4-power-manager --dump&lt;/strong&gt; shows suspend/reboot/shutdown as disabled&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Openbox launches with &lt;tt class="docutils literal"&gt;startx&lt;/tt&gt; using &lt;tt class="docutils literal"&gt;exec &lt;span class="pre"&gt;ck-launch-session&lt;/span&gt; &lt;span class="pre"&gt;dbus-launch&lt;/span&gt; &lt;span class="pre"&gt;openbox-session&lt;/span&gt;&lt;/tt&gt; in &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;$HOME/.xinitrc&lt;/span&gt;&lt;/tt&gt;. Online searching for fixes generates a lot of information about policykit, consolekit, and systemd but the current problems narrowed down to the most recent upgrade of polkit-related packages in Debian.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;(Temporary) Fix:&lt;/strong&gt; Downgrade the problematic packages from versions &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;0.105-5&lt;/span&gt;&lt;/tt&gt; to &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;0.105-4&lt;/span&gt;&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Step 0:&lt;/strong&gt; Removing the current polkit packages will also remove a number of related packages including network-manager and break the net connection. Previous good &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;0.105-4&lt;/span&gt;&lt;/tt&gt; versions of the affected packages were still available in &lt;tt class="docutils literal"&gt;/var/cache/apt/archives&lt;/tt&gt;... otherwise download packages from &lt;a class="reference external" href="http://snapshot.debian.org/"&gt;snapshot.debian.org&lt;/a&gt;. For 64-bit amd64:&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://snapshot.debian.org/archive/debian/20131015T214817Z/pool/main/p/policykit-1/libpolkit-gobject-1-0_0.105-4_amd64.deb"&gt;libpolkit-gobject-1-0:amd64&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://snapshot.debian.org/archive/debian/20131015T214817Z/pool/main/p/policykit-1/libpolkit-agent-1-0_0.105-4_amd64.deb"&gt;libpolkit-agent-1-0:amd64&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://snapshot.debian.org/archive/debian/20131015T214817Z/pool/main/p/policykit-1/libpolkit-backend-1-0_0.105-4_amd64.deb"&gt;libpolkit-backend-1-0:amd64&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://snapshot.debian.org/archive/debian/20131015T214817Z/pool/main/p/policykit-1/policykit-1_0.105-4_amd64.deb"&gt;policykit-1&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Step 1:&lt;/strong&gt; Remove the troublesome packages. Take note of the dependencies also removed for later restoration:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo apt-get remove libpolkit-gobject-1-0:amd64 libpolkit-agent-1-0:amd64 libpolkit-backend-1-0:amd64 policykit-1
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Step 2:&lt;/strong&gt; Install the downgrade packages and place them &amp;quot;on hold&amp;quot; to block &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;apt-get&lt;/span&gt;&lt;/tt&gt; from trying to upgrade again to newer (broken) versions:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo dpkg -i libpolkit-gobject-1-0_0.105-4_amd64.deb
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo dpkg -i libpolkit-agent-1-0_0.105-4_amd64.deb
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo dpkg -i libpolkit-backend-1-0_0.105-4_amd64.deb
&lt;span class="nv"&gt;$ &lt;/span&gt;sudo dpkg -i policykit-1_0.105-4_amd64.deb
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;libpolkit-gobject-1-0:amd64 hold&amp;quot;&lt;/span&gt; | sudo dpkg --set-selections
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;libpolkit-agent-1-0:amd64 hold&amp;quot;&lt;/span&gt; | sudo dpkg --set-selections
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;libpolkit-backend-1-0:amd64 hold&amp;quot;&lt;/span&gt; | sudo dpkg --set-selections
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;policykit-1 hold&amp;quot;&lt;/span&gt; | sudo dpkg --set-selections
&lt;span class="nv"&gt;$ &lt;/span&gt;dpkg get-selections | grep &lt;span class="s2"&gt;&amp;quot;pol&amp;quot;&lt;/span&gt;  &lt;span class="c"&gt;# confirm pkgs are now on hold&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Step 3:&lt;/strong&gt; Restore dependencies... my own system as an example:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;sudo apt-get install accountsservice colord consolekit cups-pk-helper gnome-control-center network-manager-gnome &lt;span class="se"&gt;\&lt;/span&gt;
packagekit packagekit-tools policykit-1-gnome upower xfce4-power-manager
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Source: &lt;a class="reference external" href="http://forums.debian.net/viewtopic.php?f=5&amp;amp;t=114412"&gt;UPower Suspend/Hibernate: not authorized&lt;/a&gt;&lt;/p&gt;
</summary><category term="debian"></category><category term="linux"></category></entry><entry><title>Creating new commands with alias</title><link href="http://www.circuidipity.com/alias-commands.html" rel="alternate"></link><updated>2014-05-13T00:00:00-04:00</updated><author><name>Daniel Wayne Armstrong</name></author><id>tag:www.circuidipity.com,2014-05-13:alias-commands.html</id><summary type="html">&lt;p&gt;An &lt;strong&gt;alias&lt;/strong&gt; is useful for setting desirable options for a shell command or creating new commands using the structure &lt;tt class="docutils literal"&gt;alias &lt;span class="pre"&gt;name='string&lt;/span&gt;&lt;/tt&gt;. Multiple commands can be placed on a single line by separating them with a semicolon &lt;tt class="docutils literal"&gt;alias &lt;span class="pre"&gt;name='command0;&lt;/span&gt; command1; command2&lt;/tt&gt;.&lt;/p&gt;
&lt;p&gt;Check for aliases already set in the environment:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;alias&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Remove the alias for command &lt;tt class="docutils literal"&gt;foo&lt;/tt&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;unalias &lt;/span&gt;foo
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Create new aliases:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;alias &lt;/span&gt;&lt;span class="nv"&gt;ls&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ls -aFlhv --color=auto&amp;#39;&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;alias &lt;/span&gt;&lt;span class="nv"&gt;dpkgg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;dpkg -l | grep&amp;#39;&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;alias &lt;/span&gt;&lt;span class="nv"&gt;aaa&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;sudo apt-get update; sudo apt-get dist-upgrade; sudo apt-get autoremove&amp;#39;&lt;/span&gt;
&lt;span class="nv"&gt;$ &lt;/span&gt;&lt;span class="nb"&gt;type &lt;/span&gt;ls   &lt;span class="c"&gt;# display information about a command&lt;/span&gt;
ls is aliased to &lt;span class="s1"&gt;&amp;#39;ls -aFlhv --color=auto&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Aliases created at the prompt persist only for the duration of the current session. Make them permanent by adding them to &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;$HOME/.bashrc&lt;/span&gt;&lt;/tt&gt;. Examples:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;alias &lt;/span&gt;&lt;span class="nv"&gt;df&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;df -hT&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;alias &lt;/span&gt;&lt;span class="nv"&gt;diff&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;colordiff&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;alias &lt;/span&gt;&lt;span class="nv"&gt;dpkgg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;dpkg -l | grep&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;alias &lt;/span&gt;&lt;span class="nv"&gt;grep&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;grep --color=auto&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;alias &lt;/span&gt;&lt;span class="nv"&gt;halt&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;systemctl poweroff&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;alias &lt;/span&gt;&lt;span class="nv"&gt;mkdir&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;mkdir -p -v&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;alias &lt;/span&gt;&lt;span class="nv"&gt;psg&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;ps aux | grep&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;alias pwd&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;pwd -P&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;alias &lt;/span&gt;&lt;span class="nv"&gt;reboot&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;systemctl reboot&amp;#39;&lt;/span&gt;
&lt;span class="nb"&gt;alias suspend&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;systemctl suspend&amp;#39;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Happy hacking!&lt;/p&gt;
</summary><category term="shell"></category><category term="linux"></category></entry></feed>