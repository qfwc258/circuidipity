<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
        <title>Circuidipity | Getting started with Neovim</title>
        <meta http-equiv="content-type" content="text/html"; charset="utf-8" />
        <meta http-equiv="pragma" content="no-cache" />
        <meta name="author" content="Daniel Wayne Armstrong" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/main.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/pygment.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/font.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/images/icons/font-awesome/css/font-awesome.min.css">
        <link rel="icon" href="http://www.circuidipity.com/theme/images/favicon.ico" type="image/x-icon" />
</head>

<body>
        <!-- content -->

<!-- breadcrumb trail -->
<div id="breadcrumb">
    <p><a href="/"><img class="minime" src="/theme/images/minime.png" alt="Mini Me" height="38" width="38" /> Howdy!</a> &nbsp;<i class="fa fa-arrow-right"></i>&nbsp;
    Tuesday 20 June 2017</p>
</div>

<!-- article -->
<h1>Getting started with Neovim</h1>
<div id="article">
    <p>Text-wrangling is a big part of unlocking the power of Linux and programming ... and with great power comes the need for a great text editor!</p>
<div class="section" id="let-s-go">
<h2>Let's go!</h2>
<p>I have used <strong>Vim</strong> in the past but barely scratched the surface of its features motherlode. A friend who is a <a class="reference external" href="http://gilesorr.com/blog/tag/vim.html">passionate vim user</a> recommended I try <strong>Neovim</strong>, which &quot;<em>strives to be a superset of Vim except for some intentionally-removed misfeatures... [and] is built for users who want the good parts of Vim, and more</em>&quot;. Sounds good!</p>
<div class="section" id="install">
<h3>0. Install</h3>
<p>Neovim packages are available in Debian ...</p>
<div class="highlight"><pre><span></span>$ sudo apt install neovim
$ sudo apt install python-dev python-pip python3-dev python3-pip
</pre></div>
</div>
<div class="section" id="launch">
<h3>1. Launch</h3>
<p>Launch editor ...</p>
<div class="highlight"><pre><span></span>$ nvim
</pre></div>
<p>On first launch the <tt class="docutils literal"><span class="pre">~/.local/share/nvim/{shada,swap}</span></tt> directories are auto-generated. Manually create a new <tt class="docutils literal"><span class="pre">~/.config/nvim</span></tt> directory ...</p>
<div class="highlight"><pre><span></span>$ mkdir ~/.config/nvim
</pre></div>
<p>... and create a <tt class="docutils literal"><span class="pre">~/.config/nvim/init.vim</span></tt> config file (or link to an existing <tt class="docutils literal"><span class="pre">~/.vimrc</span></tt>). My general settings ...</p>
<div class="highlight"><pre><span></span><span class="nb">set</span> nocompatible            <span class="s2">&quot; Disable compatibility to old-time vi</span>
<span class="s2">set showmatch               &quot;</span> Show matching brackets.
<span class="nb">set</span> ignorecase              <span class="s2">&quot; Do case insensitive matching</span>
<span class="s2">set mouse=v                 &quot;</span> middle-click paste with mouse
<span class="nb">set</span> hlsearch                <span class="s2">&quot; highlight search results</span>
<span class="s2">set tabstop=4               &quot;</span> number of columns occupied by a tab character
<span class="nb">set</span> <span class="nv">softtabstop</span><span class="o">=</span><span class="m">4</span>           <span class="s2">&quot; see multiple spaces as tabstops so &lt;BS&gt; does the right thing</span>
<span class="s2">set expandtab               &quot;</span> converts tabs to white space
<span class="nb">set</span> <span class="nv">shiftwidth</span><span class="o">=</span><span class="m">4</span>            <span class="s2">&quot; width for autoindents</span>
<span class="s2">set autoindent              &quot;</span> indent a new line the same amount as the line just typed
<span class="nb">set</span> number                  <span class="s2">&quot; add line numbers</span>
<span class="s2">set wildmode=longest,list   &quot;</span> get bash-like tab completions
<span class="nb">set</span> <span class="nv">cc</span><span class="o">=</span><span class="m">80</span>                   <span class="s2">&quot; set an 80 column border for good coding style</span>
</pre></div>
<p>Check out Neovim's built-in <tt class="docutils literal">:help</tt> command and the <a class="reference external" href="https://neovim.io/doc/">online documentation</a> .</p>
<p>Source: <a class="reference external" href="https://github.com/vonbrownie/dotfiles/blob/master/.config/nvim/init.vim">dotfiles/.config/nvim/init.vim</a></p>
</div>
<div class="section" id="spelling">
<h3>2. Spelling</h3>
<p>Toggle spell checking with the command <tt class="docutils literal">:set invspell</tt>. First time the command is invoked it prompts to download the <tt class="docutils literal"><span class="pre">utf-8</span></tt> spell files ...</p>
<div class="highlight"><pre><span></span>spellfile#LoadFile<span class="o">()</span>: No <span class="o">(</span>writable<span class="o">)</span> spell directory found.
Created /home/dwa/.local/share/nvim/site/spell
No spell file <span class="k">for</span> <span class="s2">&quot;en&quot;</span> in utf-8
Download it?
<span class="o">(</span>Y<span class="o">)</span>es, <span class="o">[</span>N<span class="o">]</span>o:Y

Downloading en.utf-8.spl...
<span class="s2">&quot;~/.local/share/nvim/site/spell/en.utf-8.spl&quot;</span> <span class="o">[</span>New<span class="o">]</span> 1121L, 609337C written
Downloading en.utf-8.sug...
<span class="s2">&quot;~/.local/share/nvim/site/spell/en.utf-8.sug&quot;</span> <span class="o">[</span>New<span class="o">]</span> 2512L, 596961C written
</pre></div>
<p>My own added words are saved in <tt class="docutils literal"><span class="pre">~/.config/nvim/spell/{en.utf-8.add,en.utf-8.add.spl}</span></tt>. Add a hot-key for the spell checker in <tt class="docutils literal">init.vim</tt> ...</p>
<div class="highlight"><pre><span></span><span class="s2">&quot; toggle spelling</span>
<span class="s2">nnoremap &lt;leader&gt;s :set invspell&lt;CR&gt;</span>
</pre></div>
</div>
<div class="section" id="colors">
<h3>3. Colors</h3>
<p>Neovim includes a few color schemes and more are available for download. Create a <tt class="docutils literal">colors</tt> directory to hold extra schemes ...</p>
<div class="highlight"><pre><span></span>$ mkdir -p ~/.config/nvim/colors
</pre></div>
<p>I use the <a class="reference external" href="http://www.vim.org/scripts/script.php?script_id=2777">tir_black</a> scheme. Download and save in the new directory. Set as default color scheme in <tt class="docutils literal">init.vim</tt> ...</p>
<div class="highlight"><pre><span></span><span class="s2">&quot; color scheme</span>
<span class="s2">colorscheme tir_black</span>
</pre></div>
<p>I ran into the problem where the color scheme worked in the (urxvt) terminal but not inside a <strong>tmux</strong> session. Turns out my tmux was not seeing the 256 color palette ...</p>
<div class="highlight"><pre><span></span>$ tput colors
8
</pre></div>
<p><strong>[ Fix! ]</strong> Add this setting to <tt class="docutils literal"><span class="pre">~/.tmux.conf</span></tt> ...</p>
<div class="highlight"><pre><span></span><span class="nb">set</span> -g default-terminal <span class="s2">&quot;rxvt-unicode-256color&quot;</span>
</pre></div>
<p>It is important to <strong>kill all existing tmux sessions</strong> to see the changes take effect. It is <a class="reference external" href="http://stackoverflow.com/a/25940093">not enough to simply start a fresh session.</a></p>
<p>Now the colors work OK!</p>
<div class="highlight"><pre><span></span>$ <span class="nb">echo</span> <span class="nv">$TERM</span>
rxvt-unicode-256color
$ tput colors
256
</pre></div>
</div>
<div class="section" id="plugins">
<h3>4. Plugins</h3>
<p>Extend the core features of the text editor using plugins. With a fresh install of Neovim, now is a good time to setup a <strong>plugin manager</strong>. I install <a class="reference external" href="https://github.com/VundleVim/Vundle.vim">Vundle</a> ...</p>
<div class="highlight"><pre><span></span>$ mkdir -p ~/.config/nvim/bundle
    $ git clone https://github.com/VundleVim/Vundle.vim.git ~/.config/nvim/bundle/Vundle.vim
</pre></div>
<p>Configure neovim to use vundle by modifying <tt class="docutils literal">init.vim</tt> ...</p>
<div class="highlight"><pre><span></span>filetype off
<span class="s2">&quot; set the runtime path to include Vundle and initialize</span>
<span class="s2">set rtp+=~/.config/nvim/bundle/Vundle.vim</span>
<span class="s2">call vundle#begin(&#39;~/.config/nvim/bundle&#39;)</span>

<span class="s2">&quot;</span> <span class="nb">let</span> Vundle manage Vundle, required
Plugin <span class="s1">&#39;VundleVim/Vundle.vim&#39;</span>

<span class="s2">&quot; All of your Plugins must be added before the following line</span>
<span class="s2">call vundle#end()</span>
<span class="s2">filetype plugin indent on  &quot;</span> allows auto-indenting depending on file <span class="nb">type</span>
</pre></div>
<p>Install plugins by adding <tt class="docutils literal">Plugin 'plugin/name'</tt> between <tt class="docutils literal">vundle#begin()</tt> and <tt class="docutils literal">vundle#end()</tt>, then launch the installer ...</p>
<div class="highlight"><pre><span></span>$ nvim +PluginInstall +qall
</pre></div>
<p>A few plugins I have found very useful from the start ...</p>
<div class="section" id="syntastic">
<h4>Syntastic</h4>
<p><a class="reference external" href="https://github.com/vim-syntastic/syntastic">Syntax checking plugin</a> that makes use of external syntax checkers. I install <strong>pylint</strong> for checking Python syntax and <strong>shellcheck</strong> for Bash scripting ...</p>
<div class="highlight"><pre><span></span>$ sudo apt install pylint pylint3 shellcheck
</pre></div>
<p>Add the plugin to <tt class="docutils literal">init.vim</tt> ...</p>
<div class="highlight"><pre><span></span>Plugin <span class="s1">&#39;vim-syntastic/syntastic&#39;</span>
</pre></div>
<p>... plus the <a class="reference external" href="https://github.com/vim-syntastic/syntastic#settings">FAQ</a> recommends some defaults ...</p>
<div class="highlight"><pre><span></span><span class="nb">set</span> statusline+<span class="o">=</span>%#warningmsg#
<span class="nb">set</span> statusline+<span class="o">=</span>%<span class="o">{</span>SyntasticStatuslineFlag<span class="o">()}</span>
<span class="nb">set</span> statusline+<span class="o">=</span>%*

<span class="nb">let</span> g:syntastic_always_populate_loc_list <span class="o">=</span> 1
<span class="nb">let</span> g:syntastic_auto_loc_list <span class="o">=</span> 1
<span class="nb">let</span> g:syntastic_check_on_open <span class="o">=</span> 1
<span class="nb">let</span> g:syntastic_check_on_wq <span class="o">=</span> 0
</pre></div>
<p>... plus (optional) enable <a class="reference external" href="https://github.com/vim-syntastic/syntastic/issues/1767#issuecomment-217834857">pylint checking for python3</a> (the default falls back on python2) ...</p>
<div class="highlight"><pre><span></span><span class="nb">let</span> g:syntastic_python_pylint_exe <span class="o">=</span> <span class="s1">&#39;python3 -m pylint3&#39;</span>
</pre></div>
</div>
<div class="section" id="vim-gitgutter">
<h4>Vim-gitgutter</h4>
<p><a class="reference external" href="https://github.com/airblade/vim-gitgutter">Plugin that displays a git diff</a> column at the side of a document marking where lines have been added, modified, or removed.</p>
<p>Add the plugin to <tt class="docutils literal">init.vim</tt> ...</p>
<div class="highlight"><pre><span></span>Plugin <span class="s1">&#39;airblade/vim-gitgutter&#39;</span>
</pre></div>
</div>
<div class="section" id="vimwiki">
<h4>Vimwiki</h4>
<p><a class="reference external" href="https://github.com/vimwiki/vimwiki">Personal wiki plugin</a> that I use as a simple notebook.</p>
<p>Add the plugin to <tt class="docutils literal">init.vim</tt> ...</p>
<div class="highlight"><pre><span></span>Plugin <span class="s1">&#39;vimwiki/vimwiki&#39;</span>
</pre></div>
<p>Default file location is <tt class="docutils literal">~/vimwiki</tt>. To set a different location (example: <tt class="docutils literal">~/doc/wiki/</tt>) ...</p>
<div class="highlight"><pre><span></span><span class="nb">let</span> g:vimwiki_list <span class="o">=</span> <span class="o">[{</span><span class="s1">&#39;path&#39;</span>: <span class="s1">&#39;~/doc/wiki/&#39;</span>, <span class="s1">&#39;path_html&#39;</span>: <span class="s1">&#39;~/doc/wiki/html/&#39;</span><span class="o">}]</span>
</pre></div>
<p>I <a class="reference external" href="https://github.com/vonbrownie/homebin/blob/master/dlg">created a little script</a> that runs a <tt class="docutils literal">git commit</tt> before launching the wiki.</p>
</div>
</div>
<div class="section" id="default">
<h3>5. Default</h3>
<p>I set Neovim to be my default editor (for system tasks like <tt class="docutils literal">visudo</tt>) ...</p>
<div class="highlight"><pre><span></span>$ sudo update-alternatives --config editor
</pre></div>
<p>Happy hacking!</p>
</div>
</div>

    <p class="articletags"><i class="fa fa-coffee"></i> More         &#8226; <a class="tag" href="http://www.circuidipity.com/tag-neovim.html">neovim</a>
        &#8226; <a class="tag" href="http://www.circuidipity.com/tag-vim.html">vim</a>
        &#8226; <a class="tag" href="http://www.circuidipity.com/tag-linux.html">linux</a>
</p>
</div>

<!-- Nav links to previous|next article -->
<div id="navmenu">
    <hr />
    <p class="prevpost"><i class="fa fa-arrow-left"></i> Older<br />
        <a href="http://www.circuidipity.com/jessiebook-to-stretchbook.html">Jessiebook to Stretchbook</a></p>
</div>


        <!-- footer -->
<div id="footer">
    <img class="imgfooter" src="./theme/images/footerbar.png" />
    <p class="contentinfo">
    <span class="noWrap">
        Copyright &#169; 2017 and
        <a rel="license" class="ccLicense" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA License</a> by
        <a rel="author" class="authorID" href="/">Daniel Wayne Armstrong</a>
    </span>
    <span class="noWrap">
        <i class="fa fa-globe"></i>
        Find me at <span class="whoa">daniel at circuidipity dot com</span>
    </span>
    <br />
    Don't miss a thing... updates by
    <a href="feed.xml">RSS</a> and
    <a class="subTweat" href="https://twitter.com/circuidipity">Twitter</a>
    </p>
</div></body>
</html>