<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
        <title>Circuidipity | Build a blog using the Pelican static site generator</title>
        <meta http-equiv="content-type" content="text/html"; charset="utf-8" />
        <meta http-equiv="pragma" content="no-cache" />
        <meta name="author" content="Daniel Wayne Armstrong" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/main.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/pygment.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/css/font.css" type="text/css" media="all" />
        <link rel="stylesheet" href="http://www.circuidipity.com/theme/images/icons/font-awesome/css/font-awesome.min.css">
        <link rel="icon" href="http://www.circuidipity.com/theme/images/favicon.ico" type="image/x-icon" />
</head>

<body>
        <!-- content -->

<!-- breadcrumb trail -->
<div id="breadcrumb">
    <p><a href="/"><img class="minime" src="/theme/images/minime.png" alt="Mini Me" height="38" width="38" /> Howdy!</a> &nbsp;<i class="fa fa-arrow-right"></i>&nbsp;
    Thursday 06 February 2014</p>
</div>

<!-- article -->
<h1>Build a blog using the Pelican static site generator</h1>
    <p class="modified"><i class="fa fa-wrench"></i>&nbsp; Last modified on Friday 30 December 2016</p>
<div id="article">
    <p><a class="reference external" href="http://docs.getpelican.com/en/3.3.0/">Pelican</a> is a Python-powered <strong>static site generator</strong>. I design the look and layout of this site using CSS and <a class="reference external" href="http://jinja.pocoo.org/docs/">Jinja2</a> templates and write my posts as plaintext files using <a class="reference external" href="http://docutils.sourceforge.net/rst.html">reStructuredText</a> and Pelican compiles the contents into HTML output suitable for a blog.</p>
<p>I like the idea of creating a static website. Some of the advantages:</p>
<ul class="simple">
<li>no database required ... plaintext is easy to edit, backup and move around</li>
<li>plaintext allows your choice of editor</li>
<li>cheap and easy to host practically anywhere ... one option: <a class="reference external" href="http://pages.github.com/">GitHub Pages</a> is a free service for hosting static HTML content</li>
<li>no database or excutable code makes a website easy to secure, maintain and scale</li>
</ul>
<p>The traditional disadvantage to using static pages for a blog has been the lack of dynamic elements - hosting feeds, user comments - but JavaScript for things like a Twitter widget to provide real-time updates and out-sourced services like Disqus for commenting are possible alternatives to work around static limitations.</p>
<p>This is how I built <strong>Circuidipity</strong> on Ubuntu 16.04 using Pelican.</p>
<div class="section" id="install">
<h2>0. Install</h2>
<p>I install Pelican and extra tools by creating a <em>virtual environment</em> using <a class="reference external" href="http://www.circuidipity.com/python2-and-python3.html">virtualenv</a> and <a class="reference external" href="https://pypi.python.org/pypi/pip">pip</a>. This allows me to create a sandboxed work area specific to my blog and user separate from my default Python installation (an alternative method in Debian would be to install the <tt class="docutils literal"><span class="pre">python-pelican</span></tt> package) ...</p>
<div class="highlight"><pre><span></span>$ sudo apt install virtualenv
$ mkdir ~/code/virtualenvs
$ virtualenv ~/code/virtualenvs/pelican
$ <span class="nb">source</span> ~/code/virtualenvs/pelican/bin/activate
<span class="o">(</span>pelican<span class="o">)</span>$ pip install pelican
</pre></div>
<p>Upgrading: simply run <tt class="docutils literal">pip install <span class="pre">--upgrade</span> pelican</tt>.</p>
<p>Next I create a directory to hold my blog contents and run <tt class="docutils literal"><span class="pre">pelican-quickstart</span></tt> to create a default site layout and configuration. I add my blog details and mostly accept the default choices provided (except for <a class="reference external" href="http://docs.getpelican.com/en/3.3.0/settings.html#pagination">pagination</a>) ...</p>
<div class="highlight"><pre><span></span><span class="o">(</span>pelican<span class="o">)</span>$ mkdir -p ~/code/circuidipity/www
<span class="o">(</span>pelican<span class="o">)</span>$ <span class="nb">cd</span> ~/code/circuidipity/www
<span class="o">(</span>pelican<span class="o">)</span>$ pelican-quickstart
</pre></div>
<p>... and this is the layout generated ...</p>
<div class="highlight"><pre><span></span>$ tree
.
├── content
├── develop_server.sh
├── fabfile.py
├── Makefile
├── output
├── pelicanconf.py
└── publishconf.py

<span class="m">2</span> directories, <span class="m">5</span> files
</pre></div>
</div>
<div class="section" id="first-post">
<h2>1. First post</h2>
<p>Posts go into <tt class="docutils literal">content</tt> and I create an <tt class="docutils literal">images</tt> subdirectory for screenshots and artwork and a <tt class="docutils literal">pages</tt> subdirectory to hold things like an <tt class="docutils literal">about</tt> or <tt class="docutils literal">contact</tt> page ...</p>
<div class="highlight"><pre><span></span>$ mkdir content/<span class="o">{</span>images,pages<span class="o">}</span>
</pre></div>
<p>Inside <tt class="docutils literal">content</tt> create your first post <tt class="docutils literal">hello_world.rst</tt> using reStructuredText ...</p>
<div class="highlight"><pre><span></span><span class="gh">===========</span>
<span class="gh">Hello World</span>
<span class="gh">===========</span>

<span class="nc">:date:</span> <span class="nf">2014-02-06 23:24</span>
<span class="nc">:slug:</span> <span class="nf">hello-world</span>
<span class="nc">:tags:</span> <span class="nf">pelican, web, python</span>

My <span class="ge">*first*</span> post using <span class="s">`Pelican </span><span class="si">&lt;http://docs.getpelican.com/en/3.3.0/getting_started.html&gt;</span><span class="s">`_</span>!
</pre></div>
<p>Items like <tt class="docutils literal">:date</tt> <tt class="docutils literal">:tags:</tt> <tt class="docutils literal">:slug:</tt> are <strong>metadata</strong> that can be used in the generated HTML output. These and a few others are included in Pelican and users can create their own to use in <a class="reference external" href="http://docs.getpelican.com/en/3.1.1/themes.html#theming-pelican">templates</a>.</p>
<p>Save the file and test the new blog by running the Pelican built-in development server. This will take all the <tt class="docutils literal">*.rst</tt> files and generate HTML formatted files in <tt class="docutils literal">output</tt> and serve up the results for inspection in a browser at <tt class="docutils literal"><span class="pre">http://localhost:8000</span></tt> ...</p>
<div class="highlight"><pre><span></span><span class="o">(</span>pelican<span class="o">)</span>$ make devserver
</pre></div>
<p>Server will continue to run in the background and re-generate any updated content for viewing. Stop server by running <tt class="docutils literal">./develop_server.sh stop</tt>.</p>
</div>
<div class="section" id="settings">
<h2>2. Settings</h2>
<p>Running <tt class="docutils literal"><span class="pre">pelican-quickstart</span></tt> creates 2 configuration files: <tt class="docutils literal">pelicanconf.py</tt> and <tt class="docutils literal">publishconf.py</tt>.</p>
<p>Primary settings are configured in <tt class="docutils literal">pelicanconf.py</tt>. Settings can be used as variables in posts, pages, and templates. This is how <a class="reference external" href="https://github.com/vonbrownie/circuidipity/blob/master/pelicanconf.py">mine looks</a> ... some of the settings such as <tt class="docutils literal">AUTHOR</tt> and <tt class="docutils literal">SITENAME</tt> were generated by Pelican and some like <tt class="docutils literal">WHOAMI_URL</tt> were created by myself.</p>
<p>A few of the settings like <tt class="docutils literal">RELATIVE_URLS = True</tt> and turning off <tt class="docutils literal">ATOM</tt> feeds are appropriate for a <em>test</em> environment but are probably things that need to be modified when its time for deployment.</p>
<p>The second configuration - <a class="reference external" href="https://github.com/vonbrownie/circuidipity/blob/master/publishconf.py">publishconf.py</a> - contains priority settings for publishing content.</p>
</div>
<div class="section" id="plugins">
<h2>3. Plugins</h2>
<p><a class="reference external" href="http://docs.getpelican.com/en/3.3.0/plugins.html">Plugins</a> are available to extend the functionality of Pelican. I use a plugin called <a class="reference external" href="https://github.com/getpelican/pelican-plugins/tree/master/neighbors">neighbors</a> that makes it easy for me to add links near the bottom to <tt class="docutils literal">Newer</tt> and <tt class="docutils literal">Older</tt> articles in relation to the current page. After enabling the plugin in <tt class="docutils literal">pelicanconf.py</tt> I make use of the plugin's <tt class="docutils literal">next_article</tt> and <tt class="docutils literal">prev_article</tt> variables in a Jinja2-formatted template to add those navigation links ...</p>
<div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">article</span><span class="o">.</span><span class="n">prev_article</span> <span class="o">%</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;prevpost&quot;</span><span class="o">&gt;&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fa fa-arrow-left&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;</span> <span class="n">Older</span><span class="o">&lt;</span><span class="n">br</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{{ SITEURL }}/{{ article.prev_article.url}}&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">article</span><span class="o">.</span><span class="n">prev_article</span><span class="o">.</span><span class="n">title</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
<span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">article</span><span class="o">.</span><span class="n">next_article</span> <span class="o">%</span><span class="p">}</span>
    <span class="o">&lt;</span><span class="n">p</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;nextpost&quot;</span><span class="o">&gt;</span><span class="n">Newer</span> <span class="o">&lt;</span><span class="n">i</span> <span class="n">class</span><span class="o">=</span><span class="s2">&quot;fa fa-arrow-right&quot;</span><span class="o">&gt;&lt;/</span><span class="n">i</span><span class="o">&gt;&lt;</span><span class="n">br</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="n">a</span> <span class="n">href</span><span class="o">=</span><span class="s2">&quot;{{ SITEURL }}/{{ article.next_article.url}}&quot;</span><span class="o">&gt;</span><span class="p">{{</span> <span class="n">article</span><span class="o">.</span><span class="n">next_article</span><span class="o">.</span><span class="n">title</span> <span class="p">}}</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&lt;/</span><span class="n">p</span><span class="o">&gt;</span>
<span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
</pre></div>
</div>
<div class="section" id="themes">
<h2>4. Themes</h2>
<p>Pelican includes a default theme to get you started and there is a collection of <a class="reference external" href="https://github.com/getpelican/pelican-themes">user-created themes</a> to choose from or <a class="reference external" href="http://docs.getpelican.com/en/3.3.0/themes.html">create your own</a>. I chose to start from scratch and explore CSS, Jinja2 templating, <a class="reference external" href="http://pygments.org/faq/">pygments</a> and <a class="reference external" href="http://fortawesome.github.io/Font-Awesome/">Font Awesome icons</a> to create my own custom theme.</p>
</div>
<div class="section" id="publish">
<h2>5. Publish</h2>
<p>When ready to generate for deployment run ...</p>
<div class="highlight"><pre><span></span><span class="o">(</span>pelican<span class="o">)</span>$ make publish
</pre></div>
<p>All blog contents are placed in <tt class="docutils literal">output</tt> ready to be uploaded to a hosting service. Since everything is static content there are many options available. I use a free <a class="reference external" href="http://www.circuidipity.com/github-pages.html">project repository hosted on GitHub Pages</a>.</p>
<p>Happy hacking!</p>
</div>

    <p class="articletags"><i class="fa fa-coffee"></i> More         &#8226; <a class="tag" href="http://www.circuidipity.com/tag-pelican.html">pelican</a>
        &#8226; <a class="tag" href="http://www.circuidipity.com/tag-web.html">web</a>
        &#8226; <a class="tag" href="http://www.circuidipity.com/tag-python.html">python</a>
</p>
</div>

<!-- Nav links to previous|next article -->
<div id="navmenu">
    <hr />
    <p class="prevpost"><i class="fa fa-arrow-left"></i> Older<br />
        <a href="http://www.circuidipity.com/flashblock.html">Vimeo and FlashBlock not playing nice on Iceweasel</a></p>
    <p class="nextpost">Newer <i class="fa fa-arrow-right"></i><br />
        <a href="http://www.circuidipity.com/github-pages.html">Host a blog on GitHub Pages</a></p>
</div>


        <!-- footer -->
<div id="footer">
    <img class="imgfooter" src="./theme/images/footerbar.png" />
    <p class="contentinfo">
    <span class="noWrap">
        Copyright &#169; 2016 and
        <a rel="license" class="ccLicense" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA License</a> by
        <a rel="author" class="authorID" href="/">Daniel Wayne Armstrong</a>
    </span>
    <span class="noWrap">
        <i class="fa fa-globe"></i>
        Find me at <span class="whoa">daniel at circuidipity dot com</span>
    </span>
    <br />
    Don't miss a thing... updates by
    <a href="feed.xml">RSS</a> and
    <a class="subTweat" href="https://twitter.com/circuidipity">Twitter</a>
    </p>
</div></body>
</html>